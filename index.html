def create_web_app_html():
    """–°–æ–∑–¥–∞–Ω–∏–µ HTML –¥–ª—è Web App"""
    html_content = """
    <!DOCTYPE html>
    <html lang="ru">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ª–æ—Ç–æ–≤ Tele2</title>
        <script src="https://telegram.org/js/telegram-web-app.js"></script>
        <style>
            * {
                box-sizing: border-box;
            }
            body {
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
                margin: 0;
                padding: 15px;
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                min-height: 100vh;
                font-size: 13px;
            }
            .container {
                max-width: 100%;
                margin: 0 auto;
            }
            .header {
                text-align: center;
                color: white;
                margin-bottom: 15px;
            }
            .header h1 {
                margin: 0 0 10px 0;
                font-size: 18px;
            }
            .tabs {
                display: flex;
                margin-bottom: 15px;
                background: white;
                border-radius: 8px;
                overflow: hidden;
            }
            .tab {
                flex: 1;
                padding: 12px 8px;
                text-align: center;
                cursor: pointer;
                border: none;
                background: transparent;
                font-weight: bold;
                font-size: 12px;
            }
            .tab.active {
                background: #667eea;
                color: white;
            }
            .content {
                background: white;
                border-radius: 12px;
                padding: 15px;
                box-shadow: 0 4px 6px rgba(0,0,0,0.1);
                margin-bottom: 15px;
            }
            .stats-grid {
                display: grid;
                grid-template-columns: 1fr 1fr;
                gap: 8px;
                margin-bottom: 15px;
            }
            .stat-card {
                background: #f8f9fa;
                padding: 12px;
                border-radius: 8px;
                text-align: center;
            }
            .stat-value {
                font-size: 16px;
                font-weight: bold;
                color: #667eea;
            }
            .stat-label {
                font-size: 10px;
                color: #666;
                margin-top: 4px;
            }
            .table {
                width: 100%;
                border-collapse: collapse;
                margin-top: 10px;
                font-size: 11px;
            }
            .table th {
                background: #667eea;
                color: white;
                padding: 8px 4px;
                text-align: left;
                font-weight: 600;
                white-space: nowrap;
            }
            .table td {
                padding: 6px 4px;
                border-bottom: 1px solid #eee;
                white-space: nowrap;
            }
            .table tr:hover {
                background: #f5f5f5;
            }
            .status-active {
                color: #28a745;
                font-weight: bold;
            }
            .status-bought {
                color: #dc3545;
                font-weight: bold;
            }
            .empty-state {
                text-align: center;
                padding: 30px;
                color: #666;
                font-size: 14px;
            }
            .last-update {
                text-align: center;
                color: white;
                margin-top: 10px;
                font-size: 11px;
            }
            .loading {
                text-align: center;
                padding: 20px;
                color: #666;
            }
            .refresh-btn {
                background: #667eea;
                color: white;
                border: none;
                padding: 8px 16px;
                border-radius: 5px;
                cursor: pointer;
                margin: 5px 0;
                font-size: 12px;
            }
            .id-copy {
                color: #667eea;
                cursor: pointer;
                text-decoration: underline;
                font-weight: bold;
            }
            .redemption-input {
                width: 100%;
                padding: 8px;
                border: 1px solid #ddd;
                border-radius: 5px;
                margin: 10px 0;
                font-size: 14px;
            }
            .profit-calc {
                background: #e8f5e8;
                padding: 10px;
                border-radius: 8px;
                margin-top: 10px;
            }
            .profit-value {
                font-size: 18px;
                font-weight: bold;
                color: #28a745;
                text-align: center;
                margin: 5px 0;
            }
            .notification {
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                background: rgba(0,0,0,0.8);
                color: white;
                padding: 10px 20px;
                border-radius: 5px;
                z-index: 1000;
                display: none;
            }
        </style>
    </head>
    <body>
        <div class="notification" id="copyNotification">–°—Å—ã–ª–∫–∞ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞!</div>
        
        <div class="container">
            <div class="header">
                <h1>üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ª–æ—Ç–æ–≤ Tele2</h1>
                <button class="refresh-btn" onclick="loadData()">üîÑ –û–±–Ω–æ–≤–∏—Ç—å</button>
            </div>
            
            <div class="tabs">
                <button class="tab active" onclick="showTab('active')">–ê–∫—Ç–∏–≤–Ω—ã–µ</button>
                <button class="tab" onclick="showTab('bought')">–ö—É–ø–ª–µ–Ω–Ω—ã–µ</button>
                <button class="tab" onclick="showTab('stats')">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</button>
            </div>
            
            <div class="content">
                <div id="active-tab" class="tab-content">
                    <h3 style="margin: 0 0 10px 0; font-size: 14px;">üü¢ –ê–∫—Ç–∏–≤–Ω—ã–µ –ª–æ—Ç—ã</h3>
                    <div id="active-table-container" class="loading">
                        –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö...
                    </div>
                </div>
                
                <div id="bought-tab" class="tab-content" style="display: none;">
                    <h3 style="margin: 0 0 10px 0; font-size: 14px;">üî¥ –ö—É–ø–ª–µ–Ω–Ω—ã–µ –ª–æ—Ç—ã</h3>
                    <div id="bought-table-container" class="loading">
                        –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö...
                    </div>
                </div>
                
                <div id="stats-tab" class="tab-content" style="display: none;">
                    <h3 style="margin: 0 0 10px 0; font-size: 14px;">üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h3>
                    
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-value" id="active-count">0</div>
                            <div class="stat-label">–ê–∫—Ç–∏–≤–Ω—ã—Ö –ª–æ—Ç–æ–≤</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="active-sum">0 —Ä—É–±</div>
                            <div class="stat-label">–°—É–º–º–∞ –∞–∫—Ç–∏–≤–Ω—ã—Ö</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="bought-count">0</div>
                            <div class="stat-label">–ö—É–ø–ª–µ–Ω–Ω—ã—Ö –ª–æ—Ç–æ–≤</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="bought-sum">0 —Ä—É–±</div>
                            <div class="stat-label">–°—É–º–º–∞ –∫—É–ø–ª–µ–Ω–Ω—ã—Ö</div>
                        </div>
                    </div>
                    
                    <div class="stat-card" style="margin-top: 8px;">
                        <div class="stat-value" id="total-sum">0 —Ä—É–±</div>
                        <div class="stat-label">–û–±—â–∞—è —Å—É–º–º–∞ –≤—Å–µ—Ö –ª–æ—Ç–æ–≤</div>
                    </div>
                    
                    <div style="margin-top: 15px;">
                        <label for="redemption-percent" style="font-size: 12px; color: #666;">–ü—Ä–æ—Ü–µ–Ω—Ç –≤—ã–∫—É–ø–∞ (%):</label>
                        <input type="number" id="redemption-percent" class="redemption-input" 
                               min="0" max="100" value="0" onchange="calculateProfit()">
                    </div>
                    
                    <div class="profit-calc">
                        <div style="text-align: center; font-size: 12px; color: #666;">–†–∞—Å—á–µ—Ç–Ω–∞—è –ø—Ä–∏–±—ã–ª—å:</div>
                        <div class="profit-value" id="profit-amount">0 —Ä—É–±</div>
                        <div style="text-align: center; font-size: 10px; color: #666;">
                            –ü—Ä–∏–±—ã–ª—å = (–°—É–º–º–∞ –∫—É–ø–ª–µ–Ω–Ω—ã—Ö √ó % –≤—ã–∫—É–ø–∞) / 100
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="last-update">
                –û–±–Ω–æ–≤–ª–µ–Ω–æ: <span id="update-time">-</span>
            </div>
        </div>

        <script>
            let appData = null;
            
            function showTab(tabName) {
                // –°–∫—Ä—ã—Ç—å –≤—Å–µ –≤–∫–ª–∞–¥–∫–∏
                document.querySelectorAll('.tab-content').forEach(tab => {
                    tab.style.display = 'none';
                });
                
                // –£–±—Ä–∞—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —Å–æ –≤—Å–µ—Ö –∫–Ω–æ–ø–æ–∫
                document.querySelectorAll('.tab').forEach(tab => {
                    tab.classList.remove('active');
                });
                
                // –ü–æ–∫–∞–∑–∞—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—É—é –≤–∫–ª–∞–¥–∫—É
                document.getElementById(tabName + '-tab').style.display = 'block';
                
                // –î–æ–±–∞–≤–∏—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å –∫ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –∫–Ω–æ–ø–∫–µ
                event.target.classList.add('active');
                
                // –ï—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã, –æ–±–Ω–æ–≤–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
                if (appData) {
                    renderTabData(tabName);
                }
            }
            
            function renderTabData(tabName) {
                switch(tabName) {
                    case 'active':
                        renderTable('active-table-container', appData.active_lots);
                        break;
                    case 'bought':
                        renderTable('bought-table-container', appData.bought_lots);
                        break;
                    case 'stats':
                        updateStats();
                        break;
                }
            }
            
            function updateStats() {
                if (!appData) return;
                
                document.getElementById('active-count').textContent = appData.stats.active_count;
                document.getElementById('active-sum').textContent = appData.stats.active_sum + ' —Ä—É–±';
                document.getElementById('bought-count').textContent = appData.stats.bought_count;
                document.getElementById('bought-sum').textContent = appData.stats.bought_sum + ' —Ä—É–±';
                document.getElementById('total-sum').textContent = (appData.stats.active_sum + appData.stats.bought_sum) + ' —Ä—É–±';
                
                calculateProfit();
            }
            
            function calculateProfit() {
                if (!appData) return;
                
                const redemptionPercent = parseFloat(document.getElementById('redemption-percent').value) || 0;
                const boughtSum = appData.stats.bought_sum;
                const profit = (boughtSum * redemptionPercent) / 100;
                
                document.getElementById('profit-amount').textContent = profit.toFixed(2) + ' —Ä—É–±';
            }
            
            function copyToClipboard(text) {
                navigator.clipboard.writeText(text).then(() => {
                    const notification = document.getElementById('copyNotification');
                    notification.style.display = 'block';
                    setTimeout(() => {
                        notification.style.display = 'none';
                    }, 2000);
                });
            }
            
            function renderTable(containerId, lots) {
                const container = document.getElementById(containerId);
                
                if (!lots || lots.length === 0) {
                    container.innerHTML = '<div class="empty-state">–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è</div>';
                    return;
                }
                
                let html = '<table class="table">';
                html += '<tr><th>ID</th><th>–°—Ç–∞—Ç—É—Å</th><th>–ù–æ–º–∏–Ω–∞–ª</th><th>–¶–µ–Ω–∞</th><th>–°–≥–æ—Ä–∞–Ω–∏–µ</th><th>–ò–∑–º–µ–Ω–µ–Ω</th><th>–ü—Ä–æ–¥–∞–≤–µ—Ü</th></tr>';
                
                lots.forEach(lot => {
                    const statusClass = lot.original_status === 'active' ? 'status-active' : 'status-bought';
                    const fullUrl = lot.url || `https://t2.ru/stock-exchange/internet?lotId=${lot.full_id || lot.id}`;
                    
                    html += `
                        <tr>
                            <td><span class="id-copy" onclick="copyToClipboard('${fullUrl}')" title="–ù–∞–∂–º–∏—Ç–µ —á—Ç–æ–±—ã —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É">${lot.id}</span></td>
                            <td class="${statusClass}">${lot.status}</td>
                            <td>${lot.nominal}</td>
                            <td>${lot.price}</td>
                            <td>${lot.expiration}</td>
                            <td>${lot.changed}</td>
                            <td>${lot.name}</td>
                        </tr>
                    `;
                });
                
                html += '</table>';
                container.innerHTML = html;
            }
            
            function loadData() {
                // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –±—É–¥–µ—Ç –∑–∞–ø—Ä–æ—Å –∫ API –±–æ—Ç–∞
                // –î–ª—è –¥–µ–º–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º mock –¥–∞–Ω–Ω—ã–µ
                
                const savedData = localStorage.getItem('tele2_lots_data');
                if (savedData) {
                    appData = JSON.parse(savedData);
                    renderTabData('active');
                    updateStats();
                    document.getElementById('update-time').textContent = new Date().toLocaleString('ru-RU');
                } else {
                    // Mock –¥–∞–Ω–Ω—ã–µ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏
                    appData = {
                        active_lots: [
                            {
                                id: "-551675777",
                                full_id: "-5516757779643926097",
                                status: "–ê–∫—Ç–∏–≤–Ω—ã–π",
                                nominal: "200 min",
                                price: "400 —Ä—É–±",
                                expiration: "13.03.2025",
                                changed: "11.03.2025",
                                name: "–°–≤–µ—Ç–ª–∞–Ω–∞",
                                original_status: "active",
                                url: "https://t2.ru/stock-exchange/internet?lotId=-5516757779643926097"
                            },
                            {
                                id: "833239682",
                                full_id: "8332396822483649413",
                                status: "–ê–∫—Ç–∏–≤–Ω—ã–π", 
                                nominal: "1 gb",
                                price: "50 —Ä—É–±",
                                expiration: "13.03.2025",
                                changed: "11.03.2025",
                                name: "–°–≤–µ—Ç–ª–∞–Ω–∞",
                                original_status: "active",
                                url: "https://t2.ru/stock-exchange/internet?lotId=8332396822483649413"
                            }
                        ],
                        bought_lots: [
                            {
                                id: "-567080568",
                                full_id: "-5670805689834724892",
                                status: "–ö—É–ø–ª–µ–Ω",
                                nominal: "200 min", 
                                price: "400 —Ä—É–±",
                                expiration: "15.03.2025",
                                changed: "15.03.2025",
                                name: "–°–≤–µ—Ç–ª–∞–Ω–∞",
                                original_status: "bought",
                                url: "https://t2.ru/stock-exchange/internet?lotId=-5670805689834724892"
                            }
                        ],
                        stats: {
                            active_count: 2,
                            active_sum: 450,
                            bought_count: 1,
                            bought_sum: 400
                        }
                    };
                    
                    renderTabData('active');
                    updateStats();
                    document.getElementById('update-time').textContent = new Date().toLocaleString('ru-RU');
                    
                    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ localStorage –¥–ª—è –¥–µ–º–æ
                    localStorage.setItem('tele2_lots_data', JSON.stringify(appData));
                }
            }
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
            document.addEventListener('DOMContentLoaded', function() {
                Telegram.WebApp.ready();
                Telegram.WebApp.expand();
                
                // –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ
                loadData();
            });
        </script>
    </body>
    </html>
    """
    return html_content
