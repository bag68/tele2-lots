def create_web_app_html():
    """Создание HTML для Web App"""
    return f"""
    <!DOCTYPE html>
    <html lang="ru">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Мониторинг лотов Tele2</title>
        <script src="https://telegram.org/js/telegram-web-app.js"></script>
        <style>
            body {{
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
                margin: 0;
                padding: 20px;
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                min-height: 100vh;
            }}
            .container {{
                max-width: 100%;
                margin: 0 auto;
            }}
            /* ... остальные стили ... */
        </style>
    </head>
    <body>
        <div class="container">
            <!-- ... HTML структура ... -->
        </div>

        <script>
            let appData = null;

            function showTab(tabName) {{
                // Скрыть все вкладки
                document.querySelectorAll('.tab-content').forEach(tab => {{
                    tab.style.display = 'none';
                }});

                // Убрать активный класс со всех кнопок
                document.querySelectorAll('.tab').forEach(tab => {{
                    tab.classList.remove('active');
                }});

                // Показать выбранную вкладку
                document.getElementById(tabName + '-tab').style.display = 'block';

                // Добавить активный класс к выбранной кнопке
                event.target.classList.add('active');

                // Если данные еще не загружены, загрузить их
                if (!appData) {{
                    loadData();
                }}
            }}

            function loadData() {{
                // В реальном приложении здесь будет запрос к API
                setTimeout(() => {{
                    if (appData) {{
                        renderData(appData);
                    }}
                }}, 500);
            }}

            function renderData(data) {{
                // Обновляем статистику
                document.getElementById('active-count').textContent = data.stats.active_count;
                document.getElementById('active-sum').textContent = data.stats.active_sum + ' руб';
                document.getElementById('bought-count').textContent = data.stats.bought_count;
                document.getElementById('bought-sum').textContent = data.stats.bought_sum + ' руб';

                // Рендерим таблицу активных лотов
                renderTable('active-table-container', data.active_lots);

                // Рендерим таблицу купленных лотов
                renderTable('bought-table-container', data.bought_lots);

                // Обновляем время
                document.getElementById('update-time').textContent = new Date().toLocaleString('ru-RU');
            }}

            function renderTable(containerId, lots) {{
                const container = document.getElementById(containerId);

                if (!lots || lots.length === 0) {{
                    container.innerHTML = '<div class="empty-state">Нет данных для отображения</div>';
                    return;
                }}

                let html = '<table class="table"><tr><th>ID</th><th>Статус</th><th>Номинал</th><th>Цена</th><th>Сгорание</th><th>Продавец</th></tr>';

                lots.forEach(lot => {{
                    const statusClass = lot.original_status === 'active' ? 'status-active' : 'status-bought';
                    html += `
                        <tr>
                            <td>${lot.id}</td>
                            <td class="${statusClass}">${lot.status}</td>
                            <td>${lot.nominal}</td>
                            <td>${lot.price}</td>
                            <td>${lot.expiration}</td>
                            <td>${lot.name}</td>
                        </tr>
                    `;
                }});

                html += '</table>';
                container.innerHTML = html;
            }}

            // Инициализация при загрузке
            document.addEventListener('DOMContentLoaded', function() {{
                Telegram.WebApp.ready();

                // Получаем данные из initData
                const initData = Telegram.WebApp.initData;
                if (initData) {{
                    try {{
                        appData = {json.dumps(generate_web_app_data(), ensure_ascii=False)};
                        renderData(appData);
                    }} catch (e) {{
                        console.error('Error parsing data:', e);
                    }}
                }}
            }});
        </script>
    </body>
    </html>
    """
