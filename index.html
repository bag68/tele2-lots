def create_web_app_html():
    """–°–æ–∑–¥–∞–Ω–∏–µ HTML –¥–ª—è Web App"""
    html_content = """
    <!DOCTYPE html>
    <html lang="ru">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ª–æ—Ç–æ–≤ Tele2</title>
        <script src="https://telegram.org/js/telegram-web-app.js"></script>
        <style>
            body {
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
                margin: 0;
                padding: 20px;
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                min-height: 100vh;
            }
            .container {
                max-width: 100%;
                margin: 0 auto;
            }
            .header {
                text-align: center;
                color: white;
                margin-bottom: 20px;
            }
            .tabs {
                display: flex;
                margin-bottom: 20px;
                background: white;
                border-radius: 10px;
                overflow: hidden;
            }
            .tab {
                flex: 1;
                padding: 15px;
                text-align: center;
                cursor: pointer;
                border: none;
                background: transparent;
                font-weight: bold;
            }
            .tab.active {
                background: #667eea;
                color: white;
            }
            .content {
                background: white;
                border-radius: 15px;
                padding: 20px;
                box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            }
            .stats {
                display: grid;
                grid-template-columns: 1fr 1fr;
                gap: 10px;
                margin-bottom: 20px;
            }
            .stat-card {
                background: #f8f9fa;
                padding: 15px;
                border-radius: 10px;
                text-align: center;
            }
            .stat-value {
                font-size: 24px;
                font-weight: bold;
                color: #667eea;
            }
            .stat-label {
                font-size: 12px;
                color: #666;
            }
            .table-container {
                overflow-x: auto;
            }
            .table {
                width: 100%;
                border-collapse: collapse;
                margin-top: 15px;
                min-width: 600px;
            }
            .table th {
                background: #667eea;
                color: white;
                padding: 12px;
                text-align: left;
                position: sticky;
                top: 0;
            }
            .table td {
                padding: 12px;
                border-bottom: 1px solid #eee;
            }
            .table tr:hover {
                background: #f5f5f5;
            }
            .status-active {
                color: #28a745;
                font-weight: bold;
            }
            .status-bought {
                color: #dc3545;
                font-weight: bold;
            }
            .empty-state {
                text-align: center;
                padding: 40px;
                color: #666;
            }
            .last-update {
                text-align: center;
                color: white;
                margin-top: 20px;
                font-size: 12px;
            }
            .loading {
                text-align: center;
                padding: 20px;
                color: #666;
            }
            .refresh-btn {
                background: #667eea;
                color: white;
                border: none;
                padding: 10px 20px;
                border-radius: 5px;
                cursor: pointer;
                margin: 10px 0;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div class="header">
                <h1>üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ª–æ—Ç–æ–≤ Tele2</h1>
                <button class="refresh-btn" onclick="loadData()">üîÑ –û–±–Ω–æ–≤–∏—Ç—å</button>
            </div>
            
            <div class="tabs">
                <button class="tab active" onclick="showTab('active')">–ê–∫—Ç–∏–≤–Ω—ã–µ</button>
                <button class="tab" onclick="showTab('bought')">–ö—É–ø–ª–µ–Ω–Ω—ã–µ</button>
                <button class="tab" onclick="showTab('stats')">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</button>
            </div>
            
            <div class="content">
                <div id="active-tab" class="tab-content">
                    <h3>üü¢ –ê–∫—Ç–∏–≤–Ω—ã–µ –ª–æ—Ç—ã</h3>
                    <div id="active-table-container" class="loading">
                        –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö...
                    </div>
                </div>
                
                <div id="bought-tab" class="tab-content" style="display: none;">
                    <h3>üî¥ –ö—É–ø–ª–µ–Ω–Ω—ã–µ –ª–æ—Ç—ã</h3>
                    <div id="bought-table-container" class="loading">
                        –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö...
                    </div>
                </div>
                
                <div id="stats-tab" class="tab-content" style="display: none;">
                    <h3>üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h3>
                    <div class="stats">
                        <div class="stat-card">
                            <div class="stat-value" id="active-count">0</div>
                            <div class="stat-label">–ê–∫—Ç–∏–≤–Ω—ã—Ö –ª–æ—Ç–æ–≤</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="active-sum">0 —Ä—É–±</div>
                            <div class="stat-label">–°—É–º–º–∞ –∞–∫—Ç–∏–≤–Ω—ã—Ö</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="bought-count">0</div>
                            <div class="stat-label">–ö—É–ø–ª–µ–Ω–Ω—ã—Ö –ª–æ—Ç–æ–≤</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="bought-sum">0 —Ä—É–±</div>
                            <div class="stat-label">–°—É–º–º–∞ –∫—É–ø–ª–µ–Ω–Ω—ã—Ö</div>
                        </div>
                    </div>
                    <div class="stat-card" style="grid-column: 1 / -1; margin-top: 10px;">
                        <div class="stat-value" id="total-sum">0 —Ä—É–±</div>
                        <div class="stat-label">–û–±—â–∞—è —Å—É–º–º–∞ –≤—Å–µ—Ö –ª–æ—Ç–æ–≤</div>
                    </div>
                </div>
            </div>
            
            <div class="last-update">
                –û–±–Ω–æ–≤–ª–µ–Ω–æ: <span id="update-time">-</span>
            </div>
        </div>

        <script>
            let appData = null;
            
            function showTab(tabName) {
                // –°–∫—Ä—ã—Ç—å –≤—Å–µ –≤–∫–ª–∞–¥–∫–∏
                document.querySelectorAll('.tab-content').forEach(tab => {
                    tab.style.display = 'none';
                });
                
                // –£–±—Ä–∞—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —Å–æ –≤—Å–µ—Ö –∫–Ω–æ–ø–æ–∫
                document.querySelectorAll('.tab').forEach(tab => {
                    tab.classList.remove('active');
                });
                
                // –ü–æ–∫–∞–∑–∞—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—É—é –≤–∫–ª–∞–¥–∫—É
                document.getElementById(tabName + '-tab').style.display = 'block';
                
                // –î–æ–±–∞–≤–∏—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å –∫ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –∫–Ω–æ–ø–∫–µ
                event.target.classList.add('active');
                
                // –ï—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã, –æ–±–Ω–æ–≤–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
                if (appData) {
                    renderTabData(tabName);
                }
            }
            
            function renderTabData(tabName) {
                switch(tabName) {
                    case 'active':
                        renderTable('active-table-container', appData.active_lots);
                        break;
                    case 'bought':
                        renderTable('bought-table-container', appData.bought_lots);
                        break;
                    case 'stats':
                        updateStats();
                        break;
                }
            }
            
            function updateStats() {
                if (!appData) return;
                
                document.getElementById('active-count').textContent = appData.stats.active_count;
                document.getElementById('active-sum').textContent = appData.stats.active_sum + ' —Ä—É–±';
                document.getElementById('bought-count').textContent = appData.stats.bought_count;
                document.getElementById('bought-sum').textContent = appData.stats.bought_sum + ' —Ä—É–±';
                document.getElementById('total-sum').textContent = (appData.stats.active_sum + appData.stats.bought_sum) + ' —Ä—É–±';
            }
            
            function renderTable(containerId, lots) {
                const container = document.getElementById(containerId);
                
                if (!lots || lots.length === 0) {
                    container.innerHTML = '<div class="empty-state">–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è</div>';
                    return;
                }
                
                let html = '<div class="table-container"><table class="table"><tr><th>ID</th><th>–°—Ç–∞—Ç—É—Å</th><th>–ù–æ–º–∏–Ω–∞–ª</th><th>–¶–µ–Ω–∞</th><th>–°–≥–æ—Ä–∞–Ω–∏–µ</th><th>–ò–∑–º–µ–Ω–µ–Ω</th><th>–ü—Ä–æ–¥–∞–≤–µ—Ü</th></tr>';
                
                lots.forEach(lot => {
                    const statusClass = lot.original_status === 'active' ? 'status-active' : 'status-bought';
                    html += `
                        <tr>
                            <td>${lot.id}</td>
                            <td class="${statusClass}">${lot.status}</td>
                            <td>${lot.nominal}</td>
                            <td>${lot.price}</td>
                            <td>${lot.expiration}</td>
                            <td>${lot.changed}</td>
                            <td>${lot.name}</td>
                        </tr>
                    `;
                });
                
                html += '</table></div>';
                container.innerHTML = html;
            }
            
            function loadData() {
                // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –±—É–¥–µ—Ç –∑–∞–ø—Ä–æ—Å –∫ API –±–æ—Ç–∞
                // –î–ª—è –¥–µ–º–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º localStorage –∏–ª–∏ mock –¥–∞–Ω–Ω—ã–µ
                
                const savedData = localStorage.getItem('tele2_lots_data');
                if (savedData) {
                    appData = JSON.parse(savedData);
                    renderTabData('active');
                    updateStats();
                    document.getElementById('update-time').textContent = new Date().toLocaleString('ru-RU');
                } else {
                    // Mock –¥–∞–Ω–Ω—ã–µ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏
                    appData = {
                        active_lots: [
                            {
                                id: "891856",
                                status: "–ê–∫—Ç–∏–≤–Ω—ã–π",
                                nominal: "200 min",
                                price: "400 —Ä—É–±",
                                expiration: "13.03.2025",
                                changed: "11.03.2025",
                                name: "–°–≤–µ—Ç–ª–∞–Ω–∞",
                                original_status: "active"
                            },
                            {
                                id: "894413",
                                status: "–ê–∫—Ç–∏–≤–Ω—ã–π", 
                                nominal: "1 gb",
                                price: "50 —Ä—É–±",
                                expiration: "13.03.2025",
                                changed: "11.03.2025",
                                name: "–°–≤–µ—Ç–ª–∞–Ω–∞",
                                original_status: "active"
                            }
                        ],
                        bought_lots: [
                            {
                                id: "74892",
                                status: "–ö—É–ø–ª–µ–Ω",
                                nominal: "200 min", 
                                price: "400 —Ä—É–±",
                                expiration: "15.03.2025",
                                changed: "15.03.2025",
                                name: "–°–≤–µ—Ç–ª–∞–Ω–∞",
                                original_status: "bought"
                            }
                        ],
                        stats: {
                            active_count: 2,
                            active_sum: 450,
                            bought_count: 1,
                            bought_sum: 400
                        }
                    };
                    
                    renderTabData('active');
                    updateStats();
                    document.getElementById('update-time').textContent = new Date().toLocaleString('ru-RU');
                }
            }
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
            document.addEventListener('DOMContentLoaded', function() {
                Telegram.WebApp.ready();
                Telegram.WebApp.expand();
                
                // –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ
                loadData();
            });
        </script>
    </body>
    </html>
    """
    return html_content
